---
interface ProjectLink {
    url: string;
    buttonLabel?: string;
    target?: string;
    title?: string;
}

interface Project {
    name: string;
    description: string;
    links: ProjectLink[];
}

const projects: Project[] = [
    {
        name: 'End-to-End CPU-Trained GPT System',
        description: 'A fully functional 11M parameter GPT language model built and trained from scratch entirely on CPU hardware. The project spans the complete LLM lifecycle from custom tokenization and dataset sharding to training with PyTorch and cloud deployment via Docker on Azure. Note: Coldstart upto 2 minutes',
        links: [
            {
                url: 'https://github.com/nandan2003/ML-portfolio/tree/main/End-to-End%20CPU-Trained%20GPT%20System%3A%20From%20Dataset%20to%20Deployment',
                buttonLabel: 'GitHub'
            },
            {
                url: 'https://helixgpt.azurewebsites.net/', 
                buttonLabel: 'Live'
            }
        ]
    },
    {
        name: 'Multi-Model ML Web App',
        description: 'A centralized AI prediction platform that serves four distinct machine learning models through a unified Flask interface. Hosted on Microsoft Azure, it handles diverse tasks ranging from healthcare diagnostics to financial estimation using robust Scikit-learn pipelines. Note: Coldstart upto 5 minutes',
        links: [
            {
                url: 'https://github.com/nandan2003/ML-Learning/tree/main/Advanced/Deploy%20Multiple%20ML%20models%20to%20Azure%20Web%20App',
                buttonLabel: 'GitHub'
            },
            {
                url: 'https://multi-ml-models-nandanv76.azurewebsites.net/', 
                buttonLabel: 'Live'
            }
        ]
    },
    {
        name: 'ML & AI Portfolio: From Foundation to MLOps',
        description: 'A comprehensive monorepo documenting an end-to-end journey in AI. It houses over 10 projects ranging from classical regression and clustering algorithms to advanced deep learning systems (LSTMs, CNNs) and cloud-native deployments on Microsoft Azure and Docker.',
        links: [
            {
                url: 'https://github.com/nandan2003/ML-Learning',
                buttonLabel: 'GitHub'
            }
        ]
    },
    {
        name: 'GoodFoods AI Reservation Assistant',
        description: 'A production-oriented conversational AI agent designed for a multi-location restaurant chain. Built on a framework-free, decoupled architecture, it manages 24/7 reservations, enforces strict business logic via dynamic prompting, and ensures data sovereignty by replacing third-party booking platforms.',
        links: [
            {
                url: 'https://github.com/nandan2003/restaurant-goodfoods',
                buttonLabel: 'GitHub'
            }
        ]
    },
    {
        name: 'Formula 1 Azure Databricks Data Engineering',
        description: 'An end-to-end cloud data pipeline built on the Azure ecosystem. It implements a "Medallion" architecture (Bronze, Silver, Gold) using Databricks and Data Factory to ingest, transform, and analyze Formula 1 race data with automated incremental loading.',
        links: [
            {
                url: 'https://github.com/nandan2003/Databricks-Formula1-Project/tree/main',
                buttonLabel: 'GitHub'
            }
        ]
    }
];
---

<div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        {projects.map(project =>

            <div class="flex flex-col justify-between items-start border border-gray-700 rounded-lg p-4 bg-black">

                <div>
                    <h3 class="text-xl font-semibold text-white mb-2">
                        {project.name}
                    </h3>

                    <p class="text-gray-400 mb-4">
                        {project.description}
                    </p>
                </div>

                {/* UPDATES HERE:
                    1. Changed 'flex-col' to 'flex-row' (makes them side-by-side)
                    2. Added 'flex-wrap' (safety for mobile screens)
                */}
                <div class="w-full flex flex-row flex-wrap gap-4 mt-auto">
                    {
                        project.links.map(link => (
                             <a
                                href={link.url}
                                title={link.title || project.name}
                                target={link.target || '_blank'}
                                class="
                                    flex-1 
                                    px-4 py-2.5
                                    border border-gray-600 rounded-lg
                                    text-white text-center
                                    hover:text-primary
                                    hover:border-primary
                                    transition-colors
                                ">
                                {link.buttonLabel || 'Open Project Website'}
                            </a>
                        ))
                    }
                </div>

            </div>

        )}

    </div>
</div>